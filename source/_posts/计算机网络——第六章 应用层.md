---
title: 计算机网络——第六章 应用层
tag: 计算机网络
category: 计算机网络
date: 2018-06-26

---

<meta name="referrer" content="no-referrer" />



# 计算机网络——第六章 应用层

### 域名系统DNS
UDP
![](https://upload-images.jianshu.io/upload_images/4061843-d3a8f9684bba3bee.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

![](https://upload-images.jianshu.io/upload_images/4061843-d90dd883202b227f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

![](https://upload-images.jianshu.io/upload_images/4061843-feefc6a887445c1c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
![](https://upload-images.jianshu.io/upload_images/4061843-4332d9ab207727f6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

**四种域名服务器：**
- 根域名服务器
1、所有的根域名服务器都知道所有的顶级域名服务器的域名和IP
2、只要本地域名服务器无法自己解析，就求助根域名服务器，根域名服务器使用迭代查询后，把要找的顶级域名服务器的IP告诉本地服务器自己查询
3、13个不同IP的根域名服务器，a~m

- 顶级域名服务器
1、负责管理在该顶级域名服务器注册的所有二级域名
2、当收到DNS查询请求时，就给出回答：可能是最后的结果，也可能是下一步要找的域名服务器的IP

- 权限域名服务器
1、负责一个区的域名服务器
2、当一个权限域名服务器还不能给出最后的查询回答时，就会告诉发出查询请求的 DNS 客户，下一步应当找哪一个权限域名服务器。

- 本地域名服务器
1、当一个主机发出 DNS 查询请求时，这个查询请求报文就发送给本地域名服务器,也称为默认域名服务器
2、每一个因特网服务提供者 ISP，或一个大学，甚至一个大学里的系，都可以拥有一个本地域名服务器。

**域名解析基本原理：**
1、将域名转换为对应的IP地址的过程称为域名解析
2、完成该功能的软件叫域名解析器;
3、每个本地域名服务器配置一个域名解析器软件
4、由于每个服务器都知道根服务器的地址，因此无论经过几步查询，在域名树中最终总会找出正确的解析结果

**解析步骤：**
1、请求本地域名服务器（本地查询采用递归）
2、本地域名服务器请求根域名服务器
3、根域名服务器返回要查找的顶级域名服务器和其IP（根域名服务器采用迭代）
4、本地域名服务器根据返回的顶级域名服务器IP，请求对应的顶级域名服务器
5、顶级域名服务器若不直接返回IP，便返回下一个查找的域名服务器和其IP
6、本地域名服务器根据返回的IP查找下一个域名服务器，重复，最后返回IP

---

### 文件传送协议FTP
TCP
（1）主进程打开熟知端口（21），使客户进程能连接
（2）等待客户进程发出连接请求
（3）启动从属进程处理请求
（4）回到等待状态
![image.png](https://upload-images.jianshu.io/upload_images/4061843-98fdce7e2af3c058.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

**TFTP：**简单文件传送协议
UDP
**特点：**
（1）每次传送的数据报文中有512字节的数据，最后一次可以不足512
（2）数据报文按序编号，从1开始
（3）支持ASCII码或二进制传送
（4）可对文件进行读或写
（5）使用简单的首部

---

### 远程终端协议TELNET
类似于远程终端控制，又称终端仿真协议
TCP连接

---

### 万维网WWW
分布式超媒体(hypermedia)系统，它是超文本(hypertext)系统的扩充

- **工作方式：**
1、万维网以客户服务器方式工作。
2、浏览器就是在用户计算机上的万维网客户程序。万维网文档所驻留的计算机则运行服务器程序，因此这个计算机也称为万维网服务器。
3、客户程序向服务器程序发出请求，服务器程序向客户程序送回客户所要的万维网文档。
4、在一个客户程序主窗口上显示出的万维网文档称为页面(page)
![](https://upload-images.jianshu.io/upload_images/4061843-6dc6c6c768aa57b2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

- **必须解决的问题：**
1、怎样标志分布在整个因特网上的万维网文档？
（1）使用统一资源定位符 URL (Uniform Resource Locator)来标志万维网上的各种文档。
（2）使每一个文档在整个因特网的范围内具有唯一的标识符 URL。
（3）也被称为网页地址(web地址),万维网联盟编制为因特网标准RFC1738。

2、用何协议实现万维网上各种超链的链接？ 
（1）在万维网客户程序与万维网服务器程序之间进行交互所使用的协议，是超文本传送协议 HTTP (HyperText Transfer Protocol)。
（2）HTTP 是一个应用层协议，它使用 TCP 连接进行可靠的传送

3、怎样使各种万维网文档都能在因特网上的各种计算机上显示出来，同时使用户清楚地知道在什么地方存在着超链？
（1）超文本标记语言 HTML (HyperText Markup Language)使得万维网页面的设计者可以很方便地用一个超链从本页面的某处链接到因特网上的任何一个万维网页面，并且能够在自己的计算机屏幕上将这些页面显示出来。
4、怎样使用户能够很方便地找到所需的信息？ 
（1）为了在万维网上方便地查找信息，用户可使用各种的搜索工具（即搜索引擎）

- **URL**
统一资源定位符
*组成：*
1、第一部分是协议（或称为服务方式）
> （1）file 资源是本地计算机上的文件。格式file://
> （2）ftp 通过 FTP访问资源。格式 FTP:// gopher 通过 Gopher 协议访问该资源。 
> （3）http 通过 HTTP 访问该资源。 格式 HTTP:// 
> https 通过安全的 HTTPS 访问该资源。 格式 HTTPS://
> （4）mailto 资源为电子邮件地址，通过 SMTP 访问。 格式 mailto:
> MMS 通过 支持MMS（流媒体）协议的播放该资源。（代表软件：Windows Media Player）格式 MMS://
> ed2k 通过 支持ed2k（专用下载链接）协议的P2P软件访问该资源。（代表软件：电驴） 格式 ed2k://
> （5）Flashget通过 支持Flashget:（专用下载链接）协议的P2P软件访问该资源。（代表软件：快车） 格式 Flashget://
> （6）thunder 通过 支持thunder（专用下载链接）协议的P2P软件访问该资源。（代表软件：迅雷） 格式 thunder://
> （7）news 通过 NNTP 访问该资源。 tencent(通过支持tencent(专用聊天连接) 协议和用户对话。(代表软件：QQ、TM)格式 tencent://message/?uin=号码&Site=&Menu=yes
> msnim 通过支持msnim(专用聊天连接) 协议和用户对话。(代表软件：MSN、WLM) 格式 （8）msnim:chat?contact=邮箱地址

2、第二部分是存有该资源的主机域名或IP地址（有时也包括端口号，没有端口号时其端口号为第一部分的协议所分的端口号，即默认端口号）
3、第三部分是主机资源的具体地址。如目录和文件名等。 
4、第一部分和第二部分之间用“：//”符号隔开，第二部分和第三部分用“/”符号隔开。第一部分和第二部分是不可缺少的，第三部分有时可以省略。


- **HTTP：**
超文本传输协议，面向事务的应用层协议
TCP
![](https://upload-images.jianshu.io/upload_images/4061843-d7902f55efac6d68.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
**持续连接的两种方式：**
1、非流水线方式：客户在收到前一个响应后才能发出下一个请求。这比非持续连接的两倍 RTT 的开销节省了建立 TCP 连接所需的一个 RTT 时间。但服务器在发送完一个对象后，其 TCP 连接就处于空闲状态，浪费了服务器资源
2、流水线方式：客户在收到 HTTP 的响应报文之前就能够接着发送新的请求报文。一个接一个的请求报文到达服务器后，服务器就可连续发回响应报文。使用流水线方式时，客户访问所有的对象只需花费一个 RTT时间，使 TCP 连接中的空闲时间减少，提高了下载文档效率
![](https://upload-images.jianshu.io/upload_images/4061843-f08e0dcfe9ee1eb6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

---

### 电子邮件协议SMTP
TCP

邮件发送协议SMTP，读取协议邮局协议POP3或网际报文存取协议IMAP

---

### 各种地址标识
（1）web地址：标识因特网上不同的网页；
（2）域名：用名字标识因特网上不同的服务器或主机等，方便记忆；
（3）端口号：区分不同的应用进程。
（4）IP地址：用数字串标识因特网上不同的主机或路由器端口等，路由器寻址必须使用。
（5）插口地址：IP地址加端口号，通过（源IP地址+源端口号,目的IP地址+目的端口号）可以在整个因特网上唯一的区分每一对应用进程之间的通信关系
（6）MAC地址：物理地址，交换机或网桥会根据目的MAC地址转发数据，接收方根据目的MAC地址判断是否接收，是自己的才会收下来处理并上交给网络层

- **关系：**
（1）根据Web地址，可以得到服务器的域名或IP地址和目的端口号
（2）由域名，通过DNS系统查询，可以得到服务器的IP地址（目的IP地址）
（3）由目的IP地址，可以判断是否与源主机是同一网络：
a）如果是，由ARP缓存和ARP协议可以得出目的主机的MAC地址（即目的MAC地址），可直接交付；
b）如果不是，则由ARP缓存和ARP协议可以得到默认网关的MAC地址，再由默认网关间接交付。
（4）由（ IP地址+端口号）可以得到插口地址，进而可以唯一确定在整个因特网上每一对应用进程之间的通信关系（源IP地址+源端口号,目的IP地址+目的端口号）